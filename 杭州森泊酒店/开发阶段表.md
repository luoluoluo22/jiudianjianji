# 酒店旅拍自动化系统 - 开发阶段表 (Milestones)

本项目分为四个核心阶段，目标是从“基础自动化”演进到“AI 智能审美剪辑”。

## 第一阶段：基础框架与路径注入 (已完成)
**目标**：实现“机器代替手工复制粘贴”，跑通自动化流程。
- [x] **5.9 版本适配**：安装并确认剪映 5.9 环境，确保草稿可解析。
- [x] **草稿克隆逻辑**：实现从模板工程到客户工程的自动复制与重命名。
- [x] **静态路径注入**：脚本可自动修改 `draft_content.json` 中的视频路径。
- [x] **基础命名规范**：正则表达式自动识别文件夹中的客户姓名。

## 第二阶段：动态适配与异常处理 (当前进行中)
**目标**：增强脚本健壮性，解决摄影师素材“长短不一”的问题。
- [ ] **动态调速引擎**：当素材长度 < 模板需求时，自动计算并注入 `Speed` 参数，实现慢放补位。
- [ ] **素材对齐优化**：确保注入的素材从 0s 开始截取，避免出现黑屏或静止帧。
- [ ] **异常报告模块**：
    - 自动生成 `missing_assets.txt` (素材不足 20s 项目清单)。
    - 自动生成 `process_error.log` (解析失败记录)。
- [ ] **调色预设注入**：在脚本中统一设置基础曝光 (+0.1) 和饱和度调整。

## 第三阶段：AI 智能筛选与高光截取 (核心攻坚)
**目标**：引入 AI 审美，解决“构图缺陷”和“废片”问题。
- [ ] **Gemini 3 Pro 接入**：集成视频分析 API。
- [ ] **分镜评分逻辑**：
    - **构图检测**：人脸/头顶是否完整，过滤“切头”镜头。
    - **动作识别**：定位并标注“奔跑”、“挥手”、“微笑”的时间戳。
- [ ] **起步停顿剔除**：智能检测镜头运动开始点，自动切掉前 0.5s 的手抖或停顿。
- [ ] **智能片段选择**：根据 AI 反馈的时间戳，精确修改草稿中的 `source_timerange`（入点/出点）。

## 第四阶段：批量生产与环境部署 (交付阶段)
**目标**：交付生产级工具，实现一键运行。
- [ ] **自动化导出模块**：集成 `auto_exporter.py`，实现后台多线程顺序导出。
- [ ] **环境一键配置**：封装所有依赖库，确保在客户 Windows 电脑上一键直装。
- [ ] **UI/简单交互 (可选)**：提供一个简单的界面或右键菜单，方便选择不同的酒店模板。

---

## 预计时间表 (估算)
1. **第一、二阶段**：1-2 天 (基础功能交付)
2. **第三阶段**：2-3 天 (AI 模型微调与分镜适配)
3. **第四阶段**：1 天 (打包与实地部署)
